---
layout: post
title: "dynamic routing protocols: rip & ospf & bgp (tcp-ip vol 1)"
author: "melon"
date: 2021-08-24 21:33
categories: "2021"
tags:
  - network
  - todo
---

in previous chapter, static routing is mainly described:  
1) when configuring an itf, a routing table entry is generated for a directly connected itf by default;  
2) table entries can be added by "route add", which is usually located in the system bootstrap file;  
3) routing table entries can also be generated by icmp redirection, which is usually used when default config is wrong.

static routing is feasible only when: the network is small; only one routing connection point with
other networks (no loops); there is no backup route (can be enabled when the main route fails).
if the above 3 condition cannot be met, dynamic routing is usually used.

this article mainly focus on dynamic routing protocol for communication between router:
rip, which is supported by most tcp/ip implementations; ospf and bgp.
finally, the cidr is introduced, which is now widely used on the internet to maintain the num of class b network.

<hr>

### # dynamic routing
adjacent routers communicate with each other to inform others of their network connection status,
which is called dynamic routing.

router generally has a routing daemon, which is responsible for: running routing protocols,
communicating with adjacent routers, and updating the kernel routing table based on the info received.

$ 1 routing policy  
dynamic routing policy applied by routing daemon:
if the daemon find that there are multiple route to the same dst, it select the best and add it to routing table;
if the routing daemon find that the line is disconnected or the signal is poor,
it may replace the route with an alternative.

$ 2 autonomous system  
the internet is composed of many autonomous systems: e.g a company network or a university network,
and each as is managed by a single entity.
the interior as can choose the routing communication proto between internal routers,
which is called igp (interior gateway protocol) or irp (intradomain routing protocol).

$ 3 intra/inter routing protocols  
rip is the most common igp, and ospf is a newer protocol intending to replace rip.
rfc-[almquist 1993] stipulate that routers with dynamic routing protocol must support both ospf and rip as a base.

the egp (exterior gateway protocol) and the irp (inter-domain routing protocol) are used for routers between
different as.
a newer egp proto called bgp (border gateway protocol) is used for communication between the backbone of
multiple nsfnet, or between the nsfnet backbone and other regional networks, which intending to replace egp.

<hr>

### # unix routing daemon

<hr>

### # rip v1 (routing infomation protocol, intra as)

<hr>

### # rip v2 (routing infomation protocol, intra as)

<hr>

### # ospf (open shortest path first, intra as)
ospf is another igp that overcome all the limit of rip.
rfc-1247 describe ospf v2 in detail.
unlike rip (use distance vector), ospf is a link state protocol.
unlike many routing protocol, ospf use ip datagram rather than tcp or udp (rip-v1/v2 rely on udp datagram).

todo: details about ospf

<hr>

### # bgp (border gateway protocol, inter as)
todo: details about bgp

<hr>

### # cidr (classless interdomain routing)
todo: details about cidr
